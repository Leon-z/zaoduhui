##4.9 管理工具开发



* 之前已经完成了Filmy的数据层开发，管理工具直接对这个数据层进行操作。大致需要如下的管理页面：

	* 总览页面（Dashboard）：展示Filmy的统计数据，如分类数量、相册数量、内容偏向等。
	* 核心配置页面（Settings）
	* 分类管理页面（Categories）
	* 相册管理页面（Albums）

   
* 还需要一个初始化页面（Init），用于录入Filmy的初始数据。如Access Key、Secret Key、管理密码、核心配置数据等。

##4.10 初始化Filmy实例页面
对于一个Filmy实例而言，初始数据只能被导入一次。可以对存储在七牛云中的数据进行检查，如果已经存在安全敏感数据（七牛云服务密钥和管理密码）了，就把用于数据录入的DOM元素移除。
###4.10.1 页面元素
初始化页面的页面元素主要用于接收录入的数据。需要被录入的数据如下：

1. 安全敏感数据
	* Access Key
	* Secret Key
	* 管理密码Password
2. 初始核心配置数据	
	* 网站标题（Title）
	* 网站副标题（Subtitle）
	* 网站背景图（Background）
	
根据上述数据，设计页面元素，并采用Bootstrap作为Filmy的后台UI框架。

/admin/init.html
###4.10.2 基本逻辑
Filmy数据层会默认从MinDB检测数据是否存在，其次再检测七牛云中数据是否存在。
如果云端不存在数据，则返回空值。如果返回值不为空，就把本初始化页面中的DOM元素移除。
##### 获取七牛云的上传凭证
用于上传（后期管理需要的）密钥文件、和需要上传的本地文件。

ps：上传文件时，同样使用Blob类型来模拟File类型。
#####检查并处理管理员对背景图片的填写方式
* 如果管理员选择使用第三方图片URL地址，就把这个URL地址传到下一个步骤。
* 如果管理员选择的是一个本地图片，则需要通过将本地图片上传到七牛云后，再获取图片的URL地址。

#####将核心数据部署到七牛云上
将所有的初始核心配置数据，通过数据层部署到七牛云。

/src/entries/init.js

