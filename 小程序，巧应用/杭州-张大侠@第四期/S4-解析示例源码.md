### 解析“Hello WXapplet”源码从代码层了解Hello WXapplet项目的实现，根据小程序的目录结构，代码实现有两大部分——**小程序实例**和**页面**。#### 小程序实例的代码实现即对应根目录下“3个app开头的文件”，app.js、app.json和app.wxss，分别对应脚本文件、配置文件和样式表文件。**微信小程序运行时**便会读取这些文件，并生成小程序实例。- app.js脚本代码用于监听并处理小程序的生命周期函数、声明全局变量、调用框架提供的丰富API等。在下面代码中，调用了同步存储本地数据、同步读取本地数据、登录接口、获取用户信息的API——wx.setStorageSync()、wx.getStorageSync()、wx.login()、wx.getUserInfo()，更多API可参考官方文档[https://mp.weixin.qq.com/debug/wxadoc/dev/api/](https://mp.weixin.qq.com/debug/wxadoc/dev/api/)```//app.jsApp({  onLaunch: function () {    //调用API从本地缓存中获取数据    var logs = wx.getStorageSync('logs') || []    logs.unshift(Date.now())    wx.setStorageSync('logs', logs)  },  getUserInfo:function(cb){    var that = this    if(this.globalData.userInfo){      typeof cb == "function" && cb(this.globalData.userInfo)    }else{      //调用登录接口      wx.login({        success: function () {          wx.getUserInfo({            success: function (res) {              that.globalData.userInfo = res.userInfo              typeof cb == "function" && cb(that.globalData.userInfo)            }          })        }      })    }  },  globalData:{    userInfo:null  }})```- app.json配置文件是对整个小程序的全局配置，如配置小程序是由哪些页面组成、配置小程序的窗口背景色、配置导航条样式、配置默认标题等。**注意：app.json文件中不可添加任何注释**，完整配置项可参考官方文档[https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html)```{  "pages":[    "pages/index/index",    "pages/logs/logs"  ],  "window":{    "backgroundTextStyle":"light",    "navigationBarBackgroundColor": "#fff",    "navigationBarTitleText": "WeChat",    "navigationBarTextStyle":"black"  }}```- app.wxss样式表文件是整个小程序的公共样式表。```/**app.wxss**/.container {  height: 100%;  display: flex;  flex-direction: column;  align-items: center;  justify-content: space-between;  padding: 200rpx 0;  box-sizing: border-box;}```#### 小程序页面的代码实现前面提到，每个页面由同目录下2~4个不同后缀文件组成，例如index.js、index.wxml、index.wxss和index.json，分别是页面脚本文件、页面结构稳健、页面样式表文件和页面配置文件。**需要注意的是，小程序的每一个页面的“路径+页面名”都需要卸载app.json中的pages字段中，并且pages字段的第一个页面即为小程序的首页。**- index.wxml```<!--index.wxml--><view class="container">  <view  bindtap="bindViewTap" class="userinfo">    <image class="userinfo-avatar" src="{{userInfo.avatarUrl}}" background-size="cover"></image>    <text class="userinfo-nickname">{{userInfo.nickName}}</text>  </view>  <view class="usermotto">    <text class="user-motto">{{motto}}</text>  </view></view>```index.wxml是页面的结构文件，使用了<view/>、<image/>、<text/>这三个组件来搭建页面结构，绑定数据和交互处理函数。详细页面组件可参考官方文档[https://mp.weixin.qq.com/debug/wxadoc/dev/component/](https://mp.weixin.qq.com/debug/wxadoc/dev/component/)。- index.js```//index.js//获取应用实例var app = getApp()Page({  data: {    motto: 'Hello ZDX',    userInfo: {}  },  //事件处理函数  bindViewTap: function() {    wx.navigateTo({      url: '../logs/logs'    })  },  onLoad: function () {    console.log('onLoad')    var that = this    //调用应用实例的方法获取全局数据    app.getUserInfo(function(userInfo){      //更新数据      that.setData({        userInfo:userInfo      })    })  }})```index.js是页面的脚本文件，在文件中监听并处理页面的生命周期函数onLoad()，获取小程序实例getApp()，声明并处理数据，响应页面交互事件等。- index.wxss```/**index.wxss**/.userinfo {  display: flex;  flex-direction: column;  align-items: center;}.userinfo-avatar {  width: 128rpx;  height: 128rpx;  margin: 20rpx;  border-radius: 50%;}.userinfo-nickname {  color: #aaa;}.usermotto {  margin-top: 200px;}```index.wxss是页面的样式表文件。当页面有样式表文件，文件中的样式规则会层叠覆盖app.wxss中的样式规则，否则，会直接使用app.wxss中指定的样式规则。- index.json```{}```index.json是页面的配置文件。当页面有配置文件时，文件中的配置项在该页面上会覆盖app.json的window中相同的配置项。更多可参考app.json的相关说明。